<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Automated Install of Octopus Deploy Server | Teapotcoder</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="I have been using Octopus Deploy for a while at work and now upgrading to their 2.0 line. It’s a wonderful product and you should check it out if you haven’t yet. One of the things I always want to do">
<meta property="og:type" content="article">
<meta property="og:title" content="Automated Install of Octopus Deploy Server">
<meta property="og:url" content="http://davidroberts63.github.io/teapotcoder/post/automated-install-of-octopus-deploy-server/index.html">
<meta property="og:site_name" content="Teapotcoder">
<meta property="og:description" content="I have been using Octopus Deploy for a while at work and now upgrading to their 2.0 line. It’s a wonderful product and you should check it out if you haven’t yet. One of the things I always want to do">
<meta property="og:image" content="http://davidroberts63.github.io/teapotcoder/images/OctopusDeployConfigureScript.png">
<meta property="og:updated_time" content="2015-11-01T20:27:28.827Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Automated Install of Octopus Deploy Server">
<meta name="twitter:description" content="I have been using Octopus Deploy for a while at work and now upgrading to their 2.0 line. It’s a wonderful product and you should check it out if you haven’t yet. One of the things I always want to do">
<meta name="twitter:creator" content="@davidroberts63">
  
  
    <link rel="icon" href="/favicon.png">
  
  
  <link rel="stylesheet" href="/teapotcoder/css/style.css" type="text/css">
  

</head>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="header-outer" class="outer">
    <a href="/" class="logo">Teapotcoder</a>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/page/failures/">Failures</a>
        
          <a class="main-nav-link" href="/page/about-me/">About</a>
        
      </nav>
      <nav id="sub-nav">
        
        
        
          <a id="nav-github-link" class="nav-icon" href="https://github.com/davidroberts63" title="Fork me on GitHub"></a>
        
        
          <a id="nav-twitter-link" class="nav-icon" href="https://twitter.com/davidroberts63" title="Follow me on Twitter"></a>
        
      </nav>
    </div>
  </div>
</header>

      <nav id="mobile-nav" class="off">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/page/failures/" class="mobile-nav-link">Failures</a>
  
    <a href="/page/about-me/" class="mobile-nav-link">About</a>
  
  <div id="search-form-wrap-mobile">
    <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://davidroberts63.github.io/teapotcoder"></form>
  </div>
</nav>
      <div class="outer">
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/teapotcoder/post/automating-static-sites-with-hexo-io-circleci-and-github-pages/">Automating static sites with Hexo.io, CircleCI and Github Pages</a>
          </li>
        
          <li>
            <a href="/teapotcoder/post/how-i-got-in-the-world-of-software/">How I got in the world of software</a>
          </li>
        
          <li>
            <a href="/teapotcoder/post/developing-behind-a-proxy/">Developing behind a proxy</a>
          </li>
        
          <li>
            <a href="/teapotcoder/post/octopygmy/">OctoPygmy</a>
          </li>
        
          <li>
            <a href="/teapotcoder/post/the-case-for-abstract-ioc/">The case for abstract IoC</a>
          </li>
        
      </ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/teapotcoder/archives/2015/10/">October 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/teapotcoder/archives/2015/03/">March 2015</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/teapotcoder/archives/2015/02/">February 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/teapotcoder/archives/2014/12/">December 2014</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/teapotcoder/archives/2014/10/">October 2014</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/teapotcoder/archives/2014/06/">June 2014</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/teapotcoder/archives/2014/05/">May 2014</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/teapotcoder/archives/2014/04/">April 2014</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/teapotcoder/archives/2014/03/">March 2014</a><span class="archive-list-count">2</span></li></ul>
    </div>
  </div>

  
    
  
</aside>
        
        <section id="main"><article id="post-automated-install-of-octopus-deploy-server" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/teapotcoder/post/automated-install-of-octopus-deploy-server/" class="article-date">
  <time datetime="2014-05-13T05:00:00.000Z" itemprop="datePublished">2014-05-13</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Automated Install of Octopus Deploy Server
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>I have been using Octopus Deploy for a while at work and now upgrading to their 2.0 line. It’s a wonderful product and you should check it out if you haven’t yet. One of the things I always want to do is automate the install of application infrastructure items (such as this) so that I can burn and build the servers. This allows me to be better prepared for server outages.<br><a id="more"></a><br>One of the great things about Octopus Deploy 2.X is that at the end of the server configuration wizard you have the option to get the script to reproduce the configuration.</p>
<p><img src="/images/OctopusDeployConfigureScript.png" alt=""></p>
<p>The only missing part is the actual installation of the Octopus Deploy server files. The running of the msi. It’s simple enough to automate as most msi installers are:</p>
<script src="//gist.github.com/3e0a05579e883476fac6.js?file=Install-OctopusServer.ps1"></script>
<p>Notice that I take the given script and use it within Powershell. Using the Start-Process with the -Wait and -Verb RunAs keeps the commands running in sequence and as the running account. Powershell needs to be running as an administrator in this case or it won’t install.</p>
<p>Then run your script that you got from the Octopus Setup Wizard. Here’s my complete script:</p>
<script src="//gist.github.com/3e0a05579e883476fac6.js?file=InstallConfigure-OctopusDeployServer.ps1"></script>
<p>The only thing I have not figured out is how to set the RavenDb backup location via this wizard or command line configuration. You can do it via the website api (though I have not verified it myself yet). The only problem is that you won’t know what the admin user api key is until you logon to the website. At that time you might as well just set the backup location manually. It is not a problem, just a small change that I know I will always do.</p>
<p>Overall I really like this installation process, especially the providing of the script. It was very simple and fluid. The Octopus Deploy team puts a lot of thought into this and it shows.</p>
<p>If you don’t see the embedded gists above just use the links. I’m having a bit of trouble with embedded gists at the moment</p>
<p>Update</p>
<p>I just caught up on my blog reading and the Octopus Deploy team has released the server and tentacle as Chocolatey packages. If your server can access chocolatey.org then it’s even easier. Check the octopus blog for details. <a href="http://octopusdeploy.com/blog/cinst-octopusdeploy" target="_blank" rel="external">http://octopusdeploy.com/blog/cinst-octopusdeploy</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://davidroberts63.github.io/teapotcoder/post/automated-install-of-octopus-deploy-server/" data-id="cigh1oodc0000ika006uhckay" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/teapotcoder/post/fork-pull-powerargs/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Fork &amp; Pull: Powerargs
        
      </div>
    </a>
  
  
    <a href="/teapotcoder/post/nancyfx-testing-with-an-authenticated-user/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">NancyFX Testing with an authenticated user</div>
    </a>
  
</nav>

  
</article>


</section>
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      <a href="/" class="logo">Teapotcoder</a>
      &copy; 2015 David Roberts<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    

<script src="/teapotcoder/js/jquery.min.js" type="text/javascript"></script>
<script src="/teapotcoder/js/jquery.scrollLoading.js" type="text/javascript"></script>


  <link rel="stylesheet" href="/teapotcoder/fancybox/jquery.fancybox.css" type="text/css">
  <script src="/teapotcoder/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>


<script src="/teapotcoder/js/script.js" type="text/javascript"></script>

  </div>
</body>
</html>